(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"3gPm":function(t,e,a){(e=a("JPst")(!1)).push([t.i,".el-row[data-v-1b0cacc7] {\n  margin-bottom: 10px;\n}\n.el-row[data-v-1b0cacc7]:last-child {\n  margin-bottom: 0;\n}\n",""]),t.exports=e},"6PPh":function(t,e,a){"use strict";var n=a("erOF");a.n(n).a},CHzS:function(t,e,a){(e=a("JPst")(!1)).push([t.i,"\n.pagination-container[data-v-179eeac4] {\n  background: #fff;\n  padding: 1px 16px !important;\n  margin-top: 10px !important;\n}\n.pagination-container.hidden[data-v-179eeac4] {\n  display: none;\n}\n",""]),t.exports=e},D4A3:function(t,e,a){var n=a("3gPm");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)},ICJW:function(t,e,a){(e=a("JPst")(!1)).push([t.i,"\n.pagination-container[data-v-38c2799a] {\n  background: #fff;\n  padding: 32px 16px;\n}\n.pagination-container.hidden[data-v-38c2799a] {\n  display: none;\n}\n",""]),t.exports=e},JcW9:function(t,e,a){"use strict";var n=a("D4A3");a.n(n).a},N2Jn:function(t,e,a){"use strict";a.r(e);var n=a("o0o1"),i=a.n(n),l=a("yXPU"),s=a.n(l),r=a("yDO+"),o=a("zC9o"),c={props:{user:{type:Object,default:function(){return{name:"",email:"",avatar:"",roles:[]}}}},data:function(){return{tableData:[{title:"町野",value:!1,value1:!1},{title:"高木",value:!1,value1:!1},{title:"山田克",value:!1,value1:!1},{title:"細川",value:!1,value1:!1}]}},methods:{}},u=a("KHd+"),d=Object(u.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%",margin:"auto"},attrs:{data:t.tableData,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"title",label:"担当者"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"title",label:"メール宛先"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.value,callback:function(a){t.$set(e.row,"value",a)},expression:"scope.row.value"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"title",label:"メールCC"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.value1,callback:function(a){t.$set(e.row,"value1",a)},expression:"scope.row.value1"}})]}}])})],1)],1)}),[],!1,null,null,null).exports,_=new o.a,m={props:{detail:{type:Object,default:function(){return{}}}},created:function(){},data:function(){return{reason:this.detail.order_reason[0].order_reason_id,other:this.detail.order_type_other_text,tableData:[{title:"町野",value:!1,value1:!1},{title:"高木",value:!1,value1:!1},{title:"山田克",value:!1,value1:!1},{title:"細川",value:!1,value1:!1}]}},methods:{selectreason:function(){var t=this,e={reason:this.reason,other:this.other};_.selectreason(this.detail.maintenance_id,e).then((function(e){console.log(e.reason),t.detail.order_reason[0].order_reason_id=e.order_reason_id,t.detail.order_reason[0].reason=e.reason,t.detail.order_type_other_text=t.other}))}}},p=Object(u.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.detail.order_type.order_type_id<4?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.reason,"1")},on:{change:function(e){t.reason="1"}}}),t._v("紛失\n    ")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"radio",value:"2"},domProps:{checked:t._q(t.reason,"2")},on:{change:function(e){t.reason="2"}}}),t._v("劣化")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"radio",value:"3"},domProps:{checked:t._q(t.reason,"3")},on:{change:function(e){t.reason="3"}}}),t._v("破損")]),t._v(" "),a("el-col",{attrs:{span:5}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"radio",value:"4"},domProps:{checked:t._q(t.reason,"4")},on:{change:function(e){t.reason="4"}}}),t._v("追加")]),t._v(" "),a("br")],1):t._e(),t._v(" "),t.detail.order_type.order_type_id>3?a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("その他")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.other,expression:"other"}],staticClass:"el-input__inner",attrs:{value:""},domProps:{value:t.other},on:{input:function(e){e.target.composing||(t.other=e.target.value)}}})])])])])])],1):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.selectreason()}}},[t._v("選択")])],1)}),[],!1,null,null,null).exports,v={props:{detail:{type:Object,default:function(){return{}}},user:{type:Object,default:function(){return{name:"",email:"",avatar:"",roles:[]}}}},data:function(){return{mail_data:"mailto:"+this.detail.user.email,userName:"",tableData:[{title:"地域会社",name:"-",manager:"-",to:!1,cc:!1},{title:"営業部",name:this.detail.mail_data11[0].department_name,manager:this.detail.mail_data1[0].name,email:this.detail.mail_data1[0].email,to:!1,cc:!1},{title:"ディストリクト",name:this.detail.mail_data22[0].district_name,manager:this.detail.mail_data2[0].name,email:this.detail.mail_data2[0].email,to:!1,cc:!1},{title:"ブロック",name:this.detail.mail_data33[0].block_name,manager:this.detail.mail_data3[0].name,email:this.detail.mail_data3[0].email,to:!1,cc:!1}]}},created:function(){var t=this;this.$store.dispatch("user/getInfo").then((function(e){t.userName=e.name}))},methods:{getsend:function(){var t="",e="",a="",n=0,i=0;this.tableData.forEach((function(a){n<1?1==a.to&&(t+=a.email,n++):n>0&&1==a.to&&(t+=",",t+=a.email),i<1?1==a.cc&&(e+="cc=",e+=a.email,i++):i>0&&1==a.cc&&(e+=",",e+=a.email)})),""==t?a=e:""!=e?a=t+"?"+e:""!=t&&(a=t),window.location.href="mailto:"+a}}},f=Object(u.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("基本情報")]),t._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("店舗CD")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.detail.shop.shop_id))]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.detail.shop.business_category.business_category))])]),t._v(" "),a("tr",[a("th",[t._v("TEL")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v(t._s(t.detail.shop.shop_phone_number))])]),t._v(" "),a("tr",[a("th",[t._v("開店日")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v(t._s(t.detail.shop.shop_open_date))])])])])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("店舗名")]),t._v(" "),a("td",[t._v(" "+t._s(t.detail.shop.shop_name))])]),t._v(" "),a("tr",[a("th",[t._v("FAX")]),t._v(" "),a("td",[t._v(t._s(t.detail.shop.shop_fax_number))])]),t._v(" "),a("tr",[a("th",[t._v("店舗担当")]),t._v(" "),a("td",[t._v(t._s(t.userName))])])])])])],1),t._v(" "),a("el-divider"),t._v(" "),a("h3",[t._v("担当者メール")]),t._v(" "),a("el-table",{staticStyle:{width:"100%",margin:"auto"},attrs:{data:t.tableData,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"title","class-name":"header-1",label:""}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"manager",label:"担当者"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"to",label:"メール宛先"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.to,callback:function(a){t.$set(e.row,"to",a)},expression:"scope.row.to"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cc",label:"メールCC"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.cc,callback:function(a){t.$set(e.row,"cc",a)},expression:"scope.row.cc"}})]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("span",[t._v("宛先とCC宛先、それぞれ選択してください。")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getsend()}}},[t._v("メーラー起動")])],1),t._v(" "),a("el-divider"),t._v(" "),a("h3",[t._v("特記情報")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("特記編集")])],1)],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("特記①")]),t._v(" "),a("td",[t._v("20’10/13〜10/25改装"),a("br"),t._v("浄化槽店舗")])]),t._v(" "),a("tr",[a("th",[t._v("特記②")]),t._v(" "),a("td",[t._v("20’5/21エアコン全台清掃"),a("br"),t._v("駐車場案件は大和ハウス様へ")])])])])}],!1,null,null,null).exports,b=a("g5xm"),h={name:"CurrencyInput",props:{value:"",options:Object},setup:function(t){var e=Object(b.a)(t.options),a=e.formattedValue;return{inputRef:e.inputRef,formattedValue:a}}},g=Object(u.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("input",{ref:"inputRef",attrs:{type:"text"},domProps:{value:this.formattedValue}})}),[],!1,null,null,null).exports,y=a("eyXw"),x=a("hZsf"),w=new o.a,C={components:{CurrencyInput:g,MonthPickerInput:y.a},props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{tt:353,custom:[],accounting_year:new Date,format:"yyyy/MM/ddd",customer_code:this.detail.customer_code,id:0,customer_name:"",customer_tel:"",customer_fax:"",customer_alias:"",customergroup_code:"",customergroup:"",faxedToClient:0,faxedToShop:0,progressId:1,progress:{1:"BM承認待ち",2:"BM承認",3:"BM差戻し",4:"BM却下",5:"BM保留",6:"本部受付前",7:"本部差戻し",8:"本部見送り",9:"依頼確定",10:"依頼済",11:"見積待ち",12:"見積精査中",13:"入荷待ち",14:"DM承認待ち",15:"稟議中",16:"見積発注済み",17:"日程調整中",18:"訪問待ち",19:"報告待ち",20:"店完了",21:"取完了",22:"問合せ中"}}},created:function(){var t=this;this.$store.dispatch("user/getInfo").then((function(e){t.userName=e.name}))},methods:{formatterProgress:function(t,e){var a;return null!==(a=this.progress[t.progress_id])&&void 0!==a?a:""},customsearch:function(){var t=this;w.customsearch(this.customer_code).then((function(e){t.custom=e,t.customer_name=e[e.length-1].customer_name,t.customer_code=e[e.length-1].customer_code,t.customer_alias=e[e.length-1].customer_alias,t.customer_tel=e[e.length-1].TEL,t.customer_fax=e[e.length-1].FAX,t.customergroup=e[e.length-1].customergroup,t.customergroup_code=e[e.length-1].customergroup_code,t.id=e[e.length-1].id}))},select:function(){var t=this;w.customsearch(this.customer_code).then((function(e){0==e?(t.id=0,alert(e)):t.id=e[e.length-1].id;var a={id:t.id,customer_code:t.customer_code,customer_tel:t.customer_tel,customer_alias:t.customer_alias,customer_fax:t.customer_fax,customergroup_code:t.customergroup_code,customergroup:t.customergroup,customer_name:t.customer_name};w.update_customerid(t.detail.maintenance_id,a).then((function(e){t.detail.customer_code=t.customer_code,t.detail.customerInformation[t.detail.customerInformation.length-1].TEL=e[e.length-1].TEL,t.detail.customerInformation[t.detail.customerInformation.length-1].FAX=e[e.length-1].FAX,t.detail.customerInformation[t.detail.customerInformation.length-1].customer_name=e[e.length-1].customer_name}))})),this.$emit("create")},getPhotoFiles:function(){var t=this;w.getPhotoFiles(this.detail.maintenance_id).then((function(e){t.detail.photo_files=e}))},getReportFiles:function(){var t=this;w.getReportFiles(this.detail.maintenance_id).then((function(e){t.detail.report_files=e}))}}},k=Object(u.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("取引先コード")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"el-input__inner",staticStyle:{display:"none"},attrs:{value:""},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer_code,expression:"customer_code"}],staticClass:"el-input__inner",attrs:{value:""},domProps:{value:t.customer_code},on:{input:function(e){e.target.composing||(t.customer_code=e.target.value)}}})])])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("取引先名")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer_name,expression:"customer_name"}],staticClass:"el-input__inner",attrs:{value:""},domProps:{value:t.customer_name},on:{input:function(e){e.target.composing||(t.customer_name=e.target.value)}}})])])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("取引先名(カナ)")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer_alias,expression:"customer_alias"}],staticClass:"el-input__inner",attrs:{value:""},domProps:{value:t.customer_alias},on:{input:function(e){e.target.composing||(t.customer_alias=e.target.value)}}})])])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("区分コード")]),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.customergroup_code,callback:function(e){t.customergroup_code=e},expression:"customergroup_code"}},t._l(this.detail.customgroup_list,(function(t){return a("el-option",{key:t.id,attrs:{label:t.customergroup_code,value:t.customergroup_code}})})),1)],1)])])])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("区分")]),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.customergroup,callback:function(e){t.customergroup=e},expression:"customergroup"}},t._l(this.detail.customgroup_list,(function(t){return a("el-option",{key:t.id,attrs:{label:t.customergroup,value:t.customergroup}})})),1)],1)])])])],1),t._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("TEL/FAX")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer_tel,expression:"customer_tel"}],staticClass:"el-input__inner",attrs:{value:""},domProps:{value:t.customer_tel},on:{input:function(e){e.target.composing||(t.customer_tel=e.target.value)}}})])])])])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer_fax,expression:"customer_fax"}],staticClass:"el-input__inner",attrs:{value:""},domProps:{value:t.customer_fax},on:{input:function(e){e.target.composing||(t.customer_fax=e.target.value)}}})])])])])])],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){return t.customsearch()}}},[t._v("検索")])],1),t._v(" "),a("div",{staticStyle:{"text-align":"right","padding-bottom":"15px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.select()}}},[t._v("選択")]),t._v(" "),a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(e){return t.$emit("close")}}},[t._v("閉じる")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%",margin:"auto"},attrs:{data:t.custom,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"NO"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customer_code",label:"取引先コード"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customer_name",label:"取引先名"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customer_alias",label:"取引先名(カナ)"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customergroup_code",label:"区分コード"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customergroup",label:"区分"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"TEL",label:"TEL"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"FAX",label:"FAX"}})],1)],1)}),[],!1,null,"3dea8ef9",null).exports,S=new o.a,F={components:{CreateCustomer:k},props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{data:null,createCustomerVisible:!1,categories:[],subCategories:[],orderTypes:[],matterOptions:[],matterValues:[],order_type:null,requestClass:1,fileList:["https://picsum.photos/id/0/300/200","https://picsum.photos/id/1/300/200","https://picsum.photos/id/2/300/200"],tableData:[{title:"特記①",value:"20’10/13〜10/25改装 浄化槽店舗"},{title:"特記②",value:"20’5/21エアコン全台清掃 駐車場案件は大和ハウス様へ"}]}},created:function(){this.data=JSON.parse(JSON.stringify(this.detail)),this.getList()},methods:{big_middleconnect:function(){var t=this;S.big_middleconnect(this.data.category_id).then((function(e){t.subCategories=e}))},getList:function(){var t=this;return s()(i.a.mark((function e(){var a,n,l,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new r.a("categories"),n=new r.a("sub_categories"),l=new r.a("order_types"),s=new r.a("matter_options"),o=new r.a("matter_values"),e.next=7,a.list(t.query);case 7:return t.categories=e.sent,e.next=10,n.list(t.query);case 10:return t.subCategories=e.sent,e.next=13,l.list(t.query);case 13:return t.orderTypes=e.sent,e.next=16,s.list(t.query);case 16:return t.matterOptions=e.sent,e.next=19,o.list(t.query);case 19:t.matterValues=e.sent;case 20:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.update(t.data.maintenance_id,t.data);case 2:case"end":return e.stop()}}),e)})))()}}},V=Object(u.a)(F,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-checkbox",{attrs:{checked:1==t.data.is_emergency,label:"緊急・重要"},model:{value:t.data.is_emergency,callback:function(e){t.$set(t.data,"is_emergency",e)},expression:"data.is_emergency"}}),t._v(" "),a("el-checkbox",{attrs:{checked:1==t.data.is_disaster,label:"災害（地震・台風・大雨など）"},model:{value:t.data.is_disaster,callback:function(e){t.$set(t.data,"is_disaster",e)},expression:"data.is_disaster"}}),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("大分類*")]),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},on:{change:function(e){return t.big_middleconnect()}},model:{value:t.data.category_id,callback:function(e){t.$set(t.data,"category_id",e)},expression:"data.category_id"}},t._l(t.categories,(function(t){return a("el-option",{key:t.category_id,attrs:{label:t.category_name,value:t.category_id}})})),1)],1)]),t._v(" "),a("tr",[a("th",[t._v("中分類*")]),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.sub_category_id,callback:function(e){t.$set(t.data,"sub_category_id",e)},expression:"data.sub_category_id"}},t._l(t.subCategories,(function(t){return a("el-option",{key:t.sub_category_id,attrs:{label:t.sub_category_name,value:t.sub_category_id}})})),1)],1)])])]),t._v(" "),a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("依頼区分*")]),t._v(" "),a("td",[t._v("\n              "+t._s(t.detail.order_type.type)+"\n              ")])])])])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("取引先コード")]),t._v(" "),a("td",[t._v(t._s(t.detail.customer_code))]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px"}},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){t.createCustomerVisible=!0}}},[t._v("検索")])],1)])])]),t._v(" "),a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("取引先名")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.detail.customerInformation[t.detail.customerInformation.length-1].customer_name))])]),t._v(" "),a("tr",[a("th",[t._v("TEL/FAX")]),t._v(" "),a("td",[t._v(t._s(t.detail.customerInformation[t.detail.customerInformation.length-1].TEL))]),t._v(" "),a("td",[t._v(t._s(t.detail.customerInformation[t.detail.customerInformation.length-1].FAX))])])])])])],1),t._v(" "),a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("依頼内容*")]),t._v(" "),a("td",{staticClass:"input-td"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.order,expression:"data.order"}],attrs:{readonly:"",rows:"10"},domProps:{value:t.data.order},on:{input:function(e){e.target.composing||t.$set(t.data,"order",e.target.value)}}})])]),t._v(" "),a("tr",[a("th",[t._v("備考")]),t._v(" "),a("td",{staticClass:"input-td"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.remark,expression:"data.remark"}],attrs:{rows:"5"},domProps:{value:t.data.remark},on:{input:function(e){e.target.composing||t.$set(t.data,"remark",e.target.value)}}})])])])]),t._v(" "),a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"5"}},[t._v("案件情報")]),t._v(" "),a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[0].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[0],"matter_option_id",e)},expression:"data.maintenance_matters[0].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[0].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[0],"matter_value_id",e)},expression:"data.maintenance_matters[0].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1),t._v(" "),a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[5].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[5],"matter_option_id",e)},expression:"data.maintenance_matters[5].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[5].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[5],"matter_value_id",e)},expression:"data.maintenance_matters[5].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1)]),t._v(" "),a("tr",[a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[1].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[1],"matter_option_id",e)},expression:"data.maintenance_matters[1].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[1].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[1],"matter_value_id",e)},expression:"data.maintenance_matters[1].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1),t._v(" "),a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[6].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[6],"matter_option_id",e)},expression:"data.maintenance_matters[6].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[6].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[6],"matter_value_id",e)},expression:"data.maintenance_matters[6].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1)]),t._v(" "),a("tr",[a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[2].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[2],"matter_option_id",e)},expression:"data.maintenance_matters[2].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[2].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[2],"matter_value_id",e)},expression:"data.maintenance_matters[2].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1),t._v(" "),a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[7].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[7],"matter_option_id",e)},expression:"data.maintenance_matters[7].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[7].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[7],"matter_value_id",e)},expression:"data.maintenance_matters[7].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1)]),t._v(" "),a("tr",[a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[3].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[3],"matter_option_id",e)},expression:"data.maintenance_matters[3].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[3].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[3],"matter_value_id",e)},expression:"data.maintenance_matters[3].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1),t._v(" "),a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[8].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[8],"matter_option_id",e)},expression:"data.maintenance_matters[8].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[8].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[8],"matter_value_id",e)},expression:"data.maintenance_matters[8].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1)]),t._v(" "),a("tr",[a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[4].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[4],"matter_option_id",e)},expression:"data.maintenance_matters[4].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[4].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[4],"matter_value_id",e)},expression:"data.maintenance_matters[4].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1),t._v(" "),a("th",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[9].matter_option_id,callback:function(e){t.$set(t.data.maintenance_matters[9],"matter_option_id",e)},expression:"data.maintenance_matters[9].matter_option_id"}},t._l(t.matterOptions,(function(t){return a("el-option",{key:t.matter_option_id,attrs:{label:t.name,value:t.matter_option_id}})})),1)],1),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"",clearable:""},model:{value:t.data.maintenance_matters[9].matter_value_id,callback:function(e){t.$set(t.data.maintenance_matters[9],"matter_value_id",e)},expression:"data.maintenance_matters[9].matter_value_id"}},t._l(t.matterValues,(function(t){return a("el-option",{key:t.matter_value_id,attrs:{label:t.name,value:t.matter_value_id}})})),1)],1)])])]),t._v(" "),a("el-dialog",{attrs:{title:"【取引先検索】",visible:t.createCustomerVisible,width:"43%","custom-class":"slide-dialog",top:"0px",modal:!1},on:{"update:visible":function(e){t.createCustomerVisible=e}}},[a("create-customer",{attrs:{detail:t.detail}})],1)],1)}),[],!1,null,"5f04674e",null).exports,z=new o.a,$={components:{CreateClientMail:d,BaseInfo:f,RequestInfoEdit:V,CreateSetting:p},props:{selected:"",detail:{type:Object,default:function(){return{}}}},data:function(){return{firstimage:"",customer_name:"",secondimage:"",thirdimage:"",createMailVisible:!1,setting:!1,baseInfoVisible:!1,editVisible:!1,otherinfo:!1,fileList:["https://picsum.photos/id/0/300/200","https://picsum.photos/id/1/300/200","https://picsum.photos/id/2/300/200"],tableData:[{title:"特記①",value:"20’10/13〜10/25改装 浄化槽店舗"},{title:"特記②",value:"20’5/21エアコン全台清掃 駐車場案件は大和ハウス様へ"}]}},mounted:function(){document.querySelectorAll(".slide-dialog").forEach((function(t){t.closest(".el-dialog__wrapper").classList.add("slide-dialog-wrapper")}))},created:function(){},methods:{save:function(){var t=this;return s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.editVisible=!1,e.next=3,t.$refs.editForm.save();case 3:t.$emit("get-detail");case 4:case"end":return e.stop()}}),e)})))()},getsrc:function(t){return"./maintenance/image/"+this.detail.maintenance_id+"/"+t},getImageone:function(){var t={file_name:this.detail.maintenance_images[0].file_name};z.getImage(this.detail.maintenance_id,t).then((function(t){}))}}},O=Object(u.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("依頼情報")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.editVisible=!0}}},[t._v("編集")])],1),t._v(" "),a("br"),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",{staticStyle:{"line-height":"3"}},[t._v("メンテナンスNo")]),t._v(" "),a("td",[t._v(t._s(t.detail.maintenance_code))])])])])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("店舗CD")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.detail.shop.shop_id))]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("\n                "+t._s(t.detail.shop.business_category.business_category)+"\n              ")])]),t._v(" "),a("tr",[a("th",[t._v("店舗名")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("\n                "+t._s(t.detail.shop.shop_name)+"\n              ")])])])])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"info",size:"mini",width:"120px"},on:{click:function(e){t.baseInfoVisible=!0}}},[t._v("基本情報")])],1)],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("大分類*")]),t._v(" "),a("td",[t._v("\n                "+t._s(t.detail.category?t.detail.category.category_name:"")+"\n              ")])]),t._v(" "),a("tr",[a("th",[t._v("中分類*")]),t._v(" "),a("td",[t._v("\n                "+t._s(t.detail.sub_category?t.detail.sub_category.sub_category_name:"")+"\n              ")])])])]),t._v(" "),a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("依頼区分*")]),t._v(" "),a("td",{staticStyle:{display:"flex"}},[t._v("\n                "+t._s(t.detail.order_type.type)+"\n                "),t.detail.order_type.order_type_id>3?a("el-button",{staticStyle:{width:"30%","background-color":"transparant",border:"0",color:"blue"},on:{click:function(e){t.otherinfo=!0}}},[t._v("🗩")]):t._e()],1)])])])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("取引先コード")]),t._v(" "),a("td",[t._v("\n                "+t._s(t.detail.customer_code)+"\n                ")]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px","text-align":"right"}},[a("el-button",{attrs:{type:"info",size:"mini",width:"120px"},on:{click:function(e){t.createMailVisible=!0}}},[t._v("取引先メール")])],1)])])]),t._v(" "),a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("取引先名")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("\n                "+t._s(t.detail.customerInformation[t.detail.customerInformation.length-1].customer_name)+"\n              ")])]),t._v(" "),a("tr",[a("th",[t._v("TEL/FAX")]),t._v(" "),a("td",[t._v("\n                "+t._s(t.detail.customerInformation[t.detail.customerInformation.length-1].TEL)+"\n              ")]),t._v(" "),a("td",[t._v("\n                "+t._s(t.detail.customerInformation[t.detail.customerInformation.length-1].FAX)+"\n              ")])])])])])],1),t._v(" "),a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("依頼内容*")]),t._v(" "),a("td",[t._v(t._s(t.detail.order))]),t._v(" "),a("td",{staticStyle:{padding:"0"},attrs:{rowspan:"2"}},[a("p",{staticClass:"header-1",staticStyle:{"margin-top":"0",padding:"10px"}},[t._v("\n              添付ファイル\n            ")]),t._v(" "),a("div",{staticStyle:{"text-align":"center",padding:"5px","max-height":"300px","overflow-x":"hidden","overflow-y":"auto"}},[a("el-image",{staticStyle:{width:"100px",height:"100px",display:"block",padding:"10px"},attrs:{src:t.getsrc(this.detail.maintenance_images[0].file_name),"preview-src-list":t.fileList}}),t._v(" "),a("a",{staticStyle:{"margin-bottom":"10px",display:"block"},attrs:{href:"#"}},[t._v("全体写真")]),t._v(" "),a("el-image",{staticStyle:{width:"100px",height:"100px",display:"block",padding:"10px"},attrs:{src:t.getsrc(this.detail.maintenance_images[1].file_name),"preview-src-list":t.fileList}}),t._v(" "),a("a",{staticStyle:{"margin-bottom":"10px",display:"block"},attrs:{href:"#"}},[t._v("細部写真")]),t._v(" "),a("el-image",{staticStyle:{width:"100px",height:"100px",display:"block",padding:"10px"},attrs:{src:t.getsrc(this.detail.maintenance_images[2].file_name),"preview-src-list":t.fileList}}),t._v(" "),a("a",{staticStyle:{"margin-bottom":"10px",display:"block"},attrs:{href:"#"}},[t._v("型番写真")])],1)])]),t._v(" "),a("tr",[a("th",[t._v("備考")]),t._v(" "),a("td",[t._v(t._s(t.detail.remark))])])])]),t._v(" "),a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",{attrs:{rowspan:"5"}},[t._v("案件情報")]),t._v(" "),a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[0].matter_option?t.detail.maintenance_matters[0].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",{staticStyle:{"min-width":"100px"}},[t._v("\n            "+t._s(t.detail.maintenance_matters[0].matter_value?t.detail.maintenance_matters[0].matter_value.name:"")+"\n          ")]),t._v(" "),a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[5].matter_option?t.detail.maintenance_matters[5].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",{staticStyle:{"min-width":"100px"}},[t._v("\n            "+t._s(t.detail.maintenance_matters[5].matter_value?t.detail.maintenance_matters[5].matter_value.name:"")+"\n          ")])]),t._v(" "),a("tr",[a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[1].matter_option?t.detail.maintenance_matters[1].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.detail.maintenance_matters[1].matter_value?t.detail.maintenance_matters[1].matter_value.name:"")+"\n          ")]),t._v(" "),a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[6].matter_option?t.detail.maintenance_matters[6].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.detail.maintenance_matters[6].matter_value?t.detail.maintenance_matters[6].matter_value.name:"")+"\n          ")])]),t._v(" "),a("tr",[a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[2].matter_option?t.detail.maintenance_matters[2].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.detail.maintenance_matters[2].matter_value?t.detail.maintenance_matters[2].matter_value.name:"")+"\n          ")]),t._v(" "),a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[7].matter_option?t.detail.maintenance_matters[7].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.detail.maintenance_matters[7].matter_value?t.detail.maintenance_matters[7].matter_value.name:"")+"\n          ")])]),t._v(" "),a("tr",[a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[3].matter_option?t.detail.maintenance_matters[3].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.detail.maintenance_matters[3].matter_value?t.detail.maintenance_matters[3].matter_value.name:"")+"\n          ")]),t._v(" "),a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[8].matter_option?t.detail.maintenance_matters[8].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.detail.maintenance_matters[8].matter_value?t.detail.maintenance_matters[8].matter_value.name:"")+"\n          ")])]),t._v(" "),a("tr",[a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[4].matter_option?t.detail.maintenance_matters[4].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.detail.maintenance_matters[4].matter_value?t.detail.maintenance_matters[4].matter_value.name:"")+"\n          ")]),t._v(" "),a("th",[t._v("\n            "+t._s(t.detail.maintenance_matters[9].matter_option?t.detail.maintenance_matters[9].matter_option.name:"")+"\n          ")]),t._v(" "),a("td",[t._v("\n            "+t._s(t.detail.maintenance_matters[9].matter_value?t.detail.maintenance_matters[9].matter_value.name:"")+"\n          ")])])])]),t._v(" "),a("el-dialog",{attrs:{title:"【取引先メール作成】",visible:t.createMailVisible,width:"45%"},on:{"update:visible":function(e){t.createMailVisible=e}}},[a("create-client-mail"),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("span",[t._v("宛先とCC宛先、それぞれ選択してください。")]),t._v(" "),a("a",{attrs:{target:"_blank",href:"mailto:name@email.com?cc=name1@email.com;name2@mail.com"}},[t._v("Link text")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.createMailVisible=!1}}},[t._v("メーラー起動")]),t._v(" "),a("el-button",{on:{click:function(e){t.createMailVisible=!1}}},[t._v("閉じる")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"【依頼内容】",visible:t.setting,width:"45%"},on:{"update:visible":function(e){t.setting=e}}},[a("create-setting",{attrs:{detail:t.detail}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("el-dialog",{attrs:{title:"【依頼内容】",visible:t.otherinfo,width:"45%"},on:{"update:visible":function(e){t.otherinfo=e}}},[a("span",[t._v(t._s(t.detail.order_type_other_text))])]),t._v(" "),a("el-dialog",{attrs:{title:"",visible:t.baseInfoVisible,width:"700px",top:"0px"},on:{"update:visible":function(e){t.baseInfoVisible=e}}},[a("base-info",{attrs:{detail:t.detail}})],1),t._v(" "),a("el-dialog",{attrs:{title:"依頼情報 編集",visible:t.editVisible,width:"60%","custom-class":"slide-dialog",top:"0px",modal:!1},on:{"update:visible":function(e){t.editVisible=e}}},[a("request-info-edit",{ref:"editForm",attrs:{detail:t.detail}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("登録")]),t._v(" "),a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("閉じる")])],1)],1)],1)}),[],!1,null,"451c45eb",null).exports,P={props:{detail:{type:Object,default:function(){return{}}}}},I=Object(u.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},t._l(t.detail.quotation_files,(function(e){return a("el-col",{key:e.quotation_file_id,staticStyle:{"text-align":"center"},attrs:{span:4}},[a("span",[a("i",{staticClass:"el-icon-picture",staticStyle:{display:"block","font-size":"60px",margin:"auto","margin-bottom":"10px"}}),t._v("\n        "+t._s(e.file_name)+"\n      ")])])})),1)],1)}),[],!1,null,null,null).exports,q={props:{detail:{type:Object,default:function(){return{}}}}},j=Object(u.a)(q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},t._l(t.detail.photo_files,(function(e){return a("el-col",{key:e.photo_file_id,staticStyle:{"text-align":"center"},attrs:{span:4}},[a("span",[a("i",{staticClass:"el-icon-picture",staticStyle:{display:"block","font-size":"60px",margin:"auto","margin-bottom":"10px"}}),t._v("\n        "+t._s(e.file_name)+"\n      ")])])})),1)],1)}),[],!1,null,null,null).exports,M={props:{detail:{type:Object,default:function(){return{}}}}},E=Object(u.a)(M,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},t._l(t.detail.report_files,(function(e){return a("el-col",{key:e.report_file_id,staticStyle:{"text-align":"center"},attrs:{span:4}},[a("span",[a("i",{staticClass:"el-icon-picture",staticStyle:{display:"block","font-size":"60px",margin:"auto","margin-bottom":"10px"}}),t._v("\n        "+t._s(e.file_name)+"\n      ")])])})),1)],1)}),[],!1,null,null,null).exports,N=new o.a,T={props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{userName:"",comment:"",faxedToClient:0,faxedToShop:0,progressId:1,progress:{1:"BM承認待ち",2:"BM承認",3:"BM差戻し",4:"BM却下",5:"BM保留",6:"本部受付前",7:"本部差戻し",8:"本部見送り",9:"依頼確定",10:"依頼済",11:"見積待ち",12:"見積精査中",13:"入荷待ち",14:"DM承認待ち",15:"稟議中",16:"見積発注済み",17:"日程調整中",18:"訪問待ち",19:"報告待ち",20:"店完了",21:"取完了",22:"問合せ中"}}},created:function(){var t=this;this.$store.dispatch("user/getInfo").then((function(e){t.userName=e.name}))},methods:{formatterProgress:function(t,e){var a;return null!==(a=this.progress[t.progress_id])&&void 0!==a?a:""},save:function(){var t=this;this.$refs.uploadReport.submit(),this.$refs.uploadPhoto.submit();var e={progress_id:this.progressId,comment:this.comment,faxed_to_client:this.faxedToClient,faxed_to_shop:this.faxedToShop};N.createProgress(this.detail.maintenance_id,e).then((function(e){t.detail.maintenance_progress=e,t.detail.progress_id=t.progressId,t.detail.progress={progress_id:t.progressId,status:t.progress[t.progressId]},t.comment="",t.faxedToClient=!1,t.faxedToShop=!1,t.$emit("create")}))},getPhotoFiles:function(){var t=this;N.getPhotoFiles(this.detail.maintenance_id).then((function(e){t.detail.photo_files=e}))},getReportFiles:function(){var t=this;N.getReportFiles(this.detail.maintenance_id).then((function(e){t.detail.report_files=e}))}}},B=Object(u.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("経過ステータス*")]),t._v(" "),a("td",{staticClass:"select-td"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{size:"small",multiple:!1,placeholder:"ステータス",clearable:""},model:{value:t.progressId,callback:function(e){t.progressId=e},expression:"progressId"}},[a("el-option",{attrs:{label:"すべて選択",value:0}}),t._v(" "),a("el-option",{attrs:{label:"BM承認待",value:1}}),t._v(" "),a("el-option",{attrs:{label:"BM承認",value:2}}),t._v(" "),a("el-option",{attrs:{label:"BM差戻し",value:3}}),t._v(" "),a("el-option",{attrs:{label:"BM却下",value:4}}),t._v(" "),a("el-option",{attrs:{label:"BM保留",value:5}}),t._v(" "),a("el-option",{attrs:{label:"受付前",value:6}}),t._v(" "),a("el-option",{attrs:{label:"本部差戻し",value:7}}),t._v(" "),a("el-option",{attrs:{label:"本部見送り",value:8}}),t._v(" "),a("el-option",{attrs:{label:"依頼前",value:9}}),t._v(" "),a("el-option",{attrs:{label:"依頼済",value:10}}),t._v(" "),a("el-option",{attrs:{label:"見積待ち",value:11}}),t._v(" "),a("el-option",{attrs:{label:"入荷待ち",value:13}}),t._v(" "),a("el-option",{attrs:{label:"DM承認待ち",value:14}}),t._v(" "),a("el-option",{attrs:{label:"稟議中",value:15}}),t._v(" "),a("el-option",{attrs:{label:"見積発注済み",value:16}}),t._v(" "),a("el-option",{attrs:{label:"訪問待ち",value:18}}),t._v(" "),a("el-option",{attrs:{label:"報告待ち",value:19}}),t._v(" "),a("el-option",{attrs:{label:"店完了",value:20}}),t._v(" "),a("el-option",{attrs:{label:"取完了",value:21}})],1)],1)])])])]),t._v(" "),a("el-col",{attrs:{span:11,offset:3}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("入力者")]),t._v(" "),a("td",[t._v(t._s(t.userName))])])])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("写真")]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px"}},[a("el-upload",{ref:"uploadPhoto",attrs:{action:"/api/v2/maintenance/upload/photo/"+t.detail.maintenance_id,"auto-upload":!1,multiple:!1,"on-success":t.getPhotoFiles()}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"info"},slot:"trigger"},[t._v("ファイル選択")])],1)],1)])])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("報告書")]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px"}},[a("el-upload",{ref:"uploadReport",attrs:{action:"/api/v2/maintenance/upload/report/"+t.detail.maintenance_id,"auto-upload":!1,multiple:!1,"on-success":t.getReportFiles()}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"info"},slot:"trigger"},[t._v("ファイル選択")])],1)],1)])])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("経過情報")]),t._v(" "),a("td",{staticStyle:{padding:"0 5px"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticStyle:{border:"none",height:"70px",width:"100%"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])])])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:1}},[a("el-checkbox",{staticStyle:{padding:"10px"},model:{value:t.faxedToShop,callback:function(e){t.faxedToShop=e},expression:"faxedToShop"}})],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tr",[a("th",{staticStyle:{width:"40px"}},[t._v("店")]),t._v(" "),a("th",[t._v("訪問予定連絡")]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px"}},[a("el-button",{attrs:{type:"info",size:"small"}},[t._v("プレビュー")])],1)])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:1}},[a("el-checkbox",{staticStyle:{padding:"10px"},model:{value:t.faxedToClient,callback:function(e){t.faxedToClient=e},expression:"faxedToClient"}})],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tr",[a("th",{staticStyle:{width:"40px"}},[t._v("取")]),t._v(" "),a("th",[t._v("進捗報告依頼")]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px"}},[a("el-button",{attrs:{type:"info",size:"small"}},[t._v("プレビュー")])],1)])])])],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.save()}}},[t._v("登録")]),t._v(" "),a("el-button",{attrs:{type:"default",size:"small"}},[t._v("閉じる")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.detail.maintenance_progress,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"日時",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"progress_id",label:"ステータス",formatter:t.formatterProgress,width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"entered_by.name",label:"入力者",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"comment",label:"コメント"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"FAX送信"}},[a("el-table-column",{attrs:{align:"center",prop:"faxed_to_client",label:"取",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.faxed_to_client?"済":""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"faxed_to_shop",label:"店",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.faxed_to_shop?"済":""))])]}}])})],1)],1)],1)}),[],!1,null,null,null).exports,D={components:{QuotationFiles:I,PhotoFiles:j,ProgressEdit:B,ReportFiles:E},props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{editVisible:!1,quotationFilesVisible:!1,photoFilesVisible:!1,reportFilesVisible:!1,progress:[]}},created:function(){this.progress={1:"BM承認待ち",2:"BM承認",3:"BM差戻し",4:"BM却下",5:"BM保留",6:"本部受付前",7:"本部差戻し",8:"本部見送り",9:"依頼確定",10:"依頼済",11:"見積待ち",12:"見積精査中",13:"入荷待ち",14:"DM承認待ち",15:"稟議中",16:"見積発注済み",17:"日程調整中",18:"訪問待ち",19:"報告待ち",20:"店完了",21:"取完了",22:"問合せ中"}},mounted:function(){document.querySelectorAll(".slide-dialog").forEach((function(t){t.closest(".el-dialog__wrapper").classList.add("slide-dialog-wrapper")}))},methods:{formatterProgress:function(t,e){var a;return null!==(a=this.progress[t.progress_id])&&void 0!==a?a:""}}},A=Object(u.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("経過情報")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.editVisible=!0}}},[t._v("登録")])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("最終ステータス")]),t._v(" "),a("td",[t._v(t._s(t.detail.progress.status))])])])])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.quotationFilesVisible=!0}}},[t._v("見積書("+t._s(t.detail.quotation_files.length)+")")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.photoFilesVisible=!0}}},[t._v("写真("+t._s(t.detail.photo_files.length)+")")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.reportFilesVisible=!0}}},[t._v("報告書("+t._s(t.detail.report_files.length)+")")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.detail.maintenance_progress,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"日時",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"progress_id",label:"ステータス",formatter:t.formatterProgress,width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"entered_by.name",label:"入力者",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"comment",label:"コメント"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"FAX送信"}},[a("el-table-column",{attrs:{align:"center",prop:"faxed_to_client",label:"取",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.faxed_to_client?"済":""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"faxed_to_shop",label:"店",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.faxed_to_shop?"済":""))])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"【見積書ファイルリスト】",visible:t.quotationFilesVisible,width:"700px"},on:{"update:visible":function(e){t.quotationFilesVisible=e}}},[a("quotation-files",{attrs:{detail:t.detail}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.quotationFilesVisible=!1}}},[t._v("閉じる")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"【写真リスト】",visible:t.photoFilesVisible,width:"700px"},on:{"update:visible":function(e){t.photoFilesVisible=e}}},[a("photo-files",{attrs:{detail:t.detail}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.photoFilesVisible=!1}}},[t._v("閉じる")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"【報告書ファイルリスト】",visible:t.reportFilesVisible,width:"700px"},on:{"update:visible":function(e){t.reportFilesVisible=e}}},[a("report-files",{attrs:{detail:t.detail}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.reportFilesVisible=!1}}},[t._v("閉じる")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"経過情報 登録",visible:t.editVisible,width:"60%","custom-class":"slide-dialog",top:"0px",modal:!1},on:{"update:visible":function(e){t.editVisible=e}}},[a("progress-edit",{attrs:{detail:t.detail},on:{create:function(e){t.editVisible=!1}}})],1)],1)}),[],!1,null,null,null).exports,L=new o.a,R={components:{CurrencyInput:g,MonthPickerInput:y.a},props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{accounting_year:new Date,format:"yyyy/MM/ddd",userName:"",accounting_amount:"",including_price:"",unincluding_price:"",relation_name:"",relation_code:"",employee:"",faxedToClient:0,faxedToShop:0,progressId:1,progress:{1:"BM承認待ち",2:"BM承認",3:"BM差戻し",4:"BM却下",5:"BM保留",6:"本部受付前",7:"本部差戻し",8:"本部見送り",9:"依頼確定",10:"依頼済",11:"見積待ち",12:"見積精査中",13:"入荷待ち",14:"DM承認待ち",15:"稟議中",16:"見積発注済み",17:"日程調整中",18:"訪問待ち",19:"報告待ち",20:"店完了",21:"取完了",22:"問合せ中"}}},created:function(){var t=this;this.$store.dispatch("user/getInfo").then((function(e){t.userName=e.name}))},methods:{formatterProgress:function(t,e){var a;return null!==(a=this.progress[t.progress_id])&&void 0!==a?a:""},save:function(){var t=this,e={relation_code:this.relation_code,relation_name:this.relation_name,unincluding_price:this.unincluding_price,including_price:this.including_price,accounting_year:this.accounting_year.year+"-"+("0"+this.accounting_year.monthIndex).slice(-2),editor:this.userName,employee:this.employee,accounting_amount:this.accounting_amount};L.createAccounting(this.detail.maintenance_id,e).then((function(e){t.detail.accounting_info=e,t.detail.progress_id=t.progressId,t.detail.progress={progress_id:t.progressId,status:t.progress[t.progressId]},t.$emit("create")}))},getPhotoFiles:function(){var t=this;L.getPhotoFiles(this.detail.maintenance_id).then((function(e){t.detail.photo_files=e}))},getReportFiles:function(){var t=this;L.getReportFiles(this.detail.maintenance_id).then((function(e){t.detail.report_files=e}))}}},J={components:{CreateAccounting:Object(u.a)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("請求元取引コード")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.relation_code,expression:"relation_code"}],staticClass:"el-input__inner",attrs:{value:""},domProps:{value:t.relation_code},on:{input:function(e){e.target.composing||(t.relation_code=e.target.value)}}})])])])])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"info",size:"small"}},[t._v("検索")])],1),t._v(" "),a("el-col",{attrs:{span:11}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("入力者")]),t._v(" "),a("td",[t._v(t._s(t.userName))])])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("請求元取引先名")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.relation_name,expression:"relation_name"}],staticClass:"el-input__inner",attrs:{value:""},domProps:{value:t.relation_name},on:{input:function(e){e.target.composing||(t.relation_name=e.target.value)}}})])])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("会計年月")]),t._v(" "),a("td",{staticClass:"input-td"},[a("month-picker-input",{staticStyle:{"z-index":"4000"},attrs:{lang:"ja",placeholder:"日付を選択してください。",format:t.format},model:{value:t.accounting_year,callback:function(e){t.accounting_year=e},expression:"accounting_year"}})],1)])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("請求金額（税抜）")]),t._v(" "),a("td",{staticClass:"input-td"},[a("currency-input",{staticClass:"el-input__inner",attrs:{options:{currency:"JPY"}},model:{value:t.unincluding_price,callback:function(e){t.unincluding_price=e},expression:"unincluding_price"}})],1)])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("消費税")]),t._v(" "),a("td",{staticClass:"input-td"},[a("currency-input",{staticClass:"el-input__inner",attrs:{options:{currency:"JPY"}},model:{value:t.accounting_amount,callback:function(e){t.accounting_amount=e},expression:"accounting_amount"}})],1)])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("請求金額（税込）")]),t._v(" "),a("td",{staticClass:"input-td"},[a("currency-input",{staticClass:"el-input__inner",attrs:{options:{currency:"JPY"}},model:{value:t.including_price,callback:function(e){t.including_price=e},expression:"including_price"}})],1)])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("科目")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.employee,expression:"employee"}],staticClass:"el-input__inner",domProps:{value:t.employee},on:{input:function(e){e.target.composing||(t.employee=e.target.value)}}})])])])])])],1),t._v(" "),a("div",{staticStyle:{"text-align":"right","padding-bottom":"15px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.save()}}},[t._v("登録")]),t._v(" "),a("el-button",{attrs:{type:"default",size:"small"}},[t._v("閉じる")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%",margin:"auto"},attrs:{data:t.detail.accounting_info,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"accounting_year",label:"会計年月"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:""},model:{value:e.row.accounting_year,callback:function(a){t.$set(e.row,"accounting_year",a)},expression:"scope.row.accounting_year"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"unincluding_price",label:"請求金額（税抜）"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("currency-input",{staticClass:"el-input__inner",attrs:{options:{currency:"JPY"}},model:{value:e.row.unincluding_price,callback:function(a){t.$set(e.row,"unincluding_price",a)},expression:"scope.row.unincluding_price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"accounting_amount",label:"消費税"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("currency-input",{staticClass:"el-input__inner",attrs:{options:{currency:"JPY"}},model:{value:e.row.accounting_amount,callback:function(a){t.$set(e.row,"accounting_amount",a)},expression:"scope.row.accounting_amount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"including_price",label:"請求金額（税込）"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("currency-input",{staticClass:"el-input__inner",attrs:{options:{currency:"JPY"}},model:{value:e.row.including_price,callback:function(a){t.$set(e.row,"including_price",a)},expression:"scope.row.including_price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"employee",label:"科目"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:""},model:{value:e.row.employee,callback:function(a){t.$set(e.row,"employee",a)},expression:"scope.row.employee"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"editor",label:"入力者"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:""},model:{value:e.row.editor,callback:function(a){t.$set(e.row,"editor",a)},expression:"scope.row.editor"}})]}}])})],1)],1)}),[],!1,null,"55a1bd9e",null).exports},props:{detail:{type:Object,default:function(){return{}}},user:{type:Object,default:function(){return{name:"",email:"",avatar:"",roles:[]}}}},data:function(){return{createAccounting:!1,tableData:[{v1:"2020/05/15",v2:"",v3:"",v4:"",v5:"",v6:""},{v1:"2020/05/15",v2:"",v3:"",v4:"",v5:"",v6:""},{v1:"2020/05/15",v2:"",v3:"",v4:"",v5:"",v6:""},{v1:"2020/05/15",v2:"",v3:"",v4:"",v5:"",v6:""}]}},methods:{formatterCurrency:function(t,e){if(null!=t.unincluding_price)return"¥"+t.unincluding_price},formatterCurrency1:function(t,e){if(null!=t.accounting_amount)return"¥"+t.accounting_amount},formatterCurrency2:function(t,e){if(null!=t.including_price)return"¥"+t.including_price}}},U=Object(u.a)(J,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("会計情報")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.detail.accounting_info,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"accounting_year",label:"会計年月"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"unincluding_price",label:"請求金額（税抜）",formatter:t.formatterCurrency}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"accounting_amount",label:"消費税",formatter:t.formatterCurrency1}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"including_price",label:"請求金額（税込）",formatter:t.formatterCurrency2}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"employee",label:"科目"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"editor",label:"入力者",width:"100"}})],1),t._v(" "),a("div",{staticStyle:{margin:"5px 0"}},[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.createAccounting=!0}}},[t._v("会計登録")])],1),t._v(" "),a("el-dialog",{attrs:{title:"【会計情報】",visible:t.createAccounting,width:"43%","custom-class":"slide-dialog",top:"0px",modal:!1},on:{"update:visible":function(e){t.createAccounting=e}}},[a("create-accounting",{attrs:{detail:t.detail}})],1)],1)}),[],!1,null,null,null).exports,Q=(a("01VR"),a("ExVU"));Q.Settings.defaultLocale="ja";var X=new o.a,H={components:{CurrencyInput:g,Datetime:x.Datetime},props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{userName:"",comment:"",date:"",amount:""}},created:function(){var t=this;this.$store.dispatch("user/getInfo").then((function(e){t.userName=e.name}))},methods:{formatterCurrency:function(t,e){if(null!=t.amount)return"¥"+t.amount},save:function(){var t=this;this.$refs.uploadReport.submit(),this.$refs.uploadPhoto.submit(),this.$refs.uploadQuotation.submit();var e={date:Q.DateTime.fromISO(this.date).toFormat("yyyy-MM-dd hh:mm"),comment:this.comment,amount:this.amount,quotation_files_cnt:this.detail.quotation_files.length,report_files_cnt:this.detail.report_files.length,photo_files_cnt:this.detail.photo_files.length,editor:this.userName};X.createQuotation(this.detail.maintenance_id,e).then((function(e){t.detail.quotation_info=e,t.comment="",t.faxedToClient=!1,t.faxedToShop=!1,t.$emit("create")}))},getPhotoFiles:function(){var t=this;X.getPhotoFiles(this.detail.maintenance_id).then((function(e){t.detail.photo_files=e}))},getQuotationFiles:function(){var t=this;X.getQuotationFiles(this.detail.maintenance_id).then((function(e){t.detail.quotation_files=e}))},getReportFiles:function(){var t=this;X.getReportFiles(this.detail.maintenance_id).then((function(e){t.detail.report_files=e}))}}},W={components:{QuotationFiles:I,PhotoFiles:j,ProgressEdit:B,ReportFiles:E,QuotationInfo:Y,AccountingInfo:U,CreateQuotation:Object(u.a)(H,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("日時")]),t._v(" "),a("td",{staticClass:"input-td"},[a("datetime",{attrs:{type:"datetime","input-class":"my-class",placeholder:"日付を選択してください。",format:{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",hour12:!1},phrases:{ok:"Continue",cancel:"Exit"},"hour-step":1,"minute-step":60,"week-start":7,auto:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])])])]),t._v(" "),a("el-col",{attrs:{span:9,offset:5}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("入力者")]),t._v(" "),a("td",[t._v(t._s(t.userName))])])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("金額")]),t._v(" "),a("td",{staticClass:"input-td"},[a("currency-input",{staticClass:"el-input__inner",attrs:{options:{currency:"JPY"}},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("摘要")]),t._v(" "),a("td",{staticClass:"input-td"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"el-input__inner",domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("見積書")]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px"}},[a("el-upload",{ref:"uploadQuotation",attrs:{action:"/api/v2/maintenance/upload/quotation/"+t.detail.maintenance_id,"auto-upload":!1,multiple:!1,"on-success":t.getQuotationFiles()}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"info"},slot:"trigger"},[t._v("ファイル選択")])],1)],1)])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("写真")]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px"}},[a("el-upload",{ref:"uploadPhoto",attrs:{action:"/api/v2/maintenance/upload/photo/"+t.detail.maintenance_id,"auto-upload":!1,multiple:!1,"on-success":t.getPhotoFiles()}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"info"},slot:"trigger"},[t._v("ファイル選択")])],1)],1)])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[t._v("報告書")]),t._v(" "),a("td",{staticStyle:{border:"none",padding:"0 5px"}},[a("el-upload",{ref:"uploadReport",attrs:{action:"/api/v2/maintenance/upload/report/"+t.detail.maintenance_id,"auto-upload":!1,multiple:!1,"on-success":t.getReportFiles()}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"info"},slot:"trigger"},[t._v("ファイル選択")])],1)],1)])])])])],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.save()}}},[t._v("登録")]),t._v(" "),a("el-button",{attrs:{type:"default",size:"small"}},[t._v("閉じる")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"2%"},attrs:{data:t.detail.quotation_info,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"日時"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"金額",formatter:t.formatterCurrency}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"comment",label:"摘要"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"quotation_files_cnt",label:"見積書"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"photo_files_cnt",label:"写真"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"report_files_cnt",label:"報告書"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"editor",label:"入力者",width:"100"}})],1)],1)}),[],!1,null,"4d6e84e8",null).exports},props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{editVisible:!1,quotationFilesVisible:!1,photoFilesVisible:!1,reportFilesVisible:!1,progress:[]}},created:function(){this.progress={1:"BM承認待ち",2:"BM承認",3:"BM差戻し",4:"BM却下",5:"BM保留",6:"本部受付前",7:"本部差戻し",8:"本部見送り",9:"依頼確定",10:"依頼済",11:"見積待ち",12:"見積精査中",13:"入荷待ち",14:"DM承認待ち",15:"稟議中",16:"見積発注済み",17:"日程調整中",18:"訪問待ち",19:"報告待ち",20:"店完了",21:"取完了",22:"問合せ中"}},mounted:function(){document.querySelectorAll(".slide-dialog").forEach((function(t){t.closest(".el-dialog__wrapper").classList.add("slide-dialog-wrapper")}))},methods:{formatterProgress:function(t,e){var a;return null!==(a=this.progress[t.progress_id])&&void 0!==a?a:""},formatterCurrency:function(t,e){if(null!=t.amount)return"¥"+t.amount}}},Y=Object(u.a)(W,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("見積情報")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.detail.quotation_info,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"date",label:"日時"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"金額",formatter:t.formatterCurrency}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"comment",label:"摘要"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"editor",label:"入力者",width:"100"}})],1),t._v(" "),a("div",{staticStyle:{margin:"5px 0"}},[a("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.editVisible=!0}}},[t._v("見積登録")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.quotationFilesVisible=!0}}},[t._v("見積書("+t._s(t.detail.quotation_files.length)+")")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.photoFilesVisible=!0}}},[t._v("写真("+t._s(t.detail.photo_files.length)+")")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.reportFilesVisible=!0}}},[t._v("報告書("+t._s(t.detail.report_files.length)+")")])],1),t._v(" "),a("el-dialog",{attrs:{title:"【見積書ファイルリスト】",visible:t.quotationFilesVisible,modal:!1,width:"700px"},on:{"update:visible":function(e){t.quotationFilesVisible=e}}},[a("quotation-files",{attrs:{detail:t.detail}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.quotationFilesVisible=!1}}},[t._v("閉じる")])],1)],1),t._v(" "),a("el-dialog",{attrs:{modal:!1,title:"【写真リスト】",visible:t.photoFilesVisible,width:"700px"},on:{"update:visible":function(e){t.photoFilesVisible=e}}},[a("photo-files",{attrs:{detail:t.detail}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.photoFilesVisible=!1}}},[t._v("閉じる")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"【報告書ファイルリスト】",visible:t.reportFilesVisible,width:"700px",modal:!1},on:{"update:visible":function(e){t.reportFilesVisible=e}}},[a("report-files",{attrs:{detail:t.detail}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.reportFilesVisible=!1}}},[t._v("閉じる")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"見積情報 登録",visible:t.editVisible,width:"43%","custom-class":"slide-dialog",top:"0px",modal:!1},on:{"update:visible":function(e){t.editVisible=e}}},[a("create-quotation",{attrs:{detail:t.detail},on:{create:function(e){t.editVisible=!1}}})],1)],1)}),[],!1,null,null,null).exports,G={components:{QuotationFiles:I,PhotoFiles:j,ProgressEdit:B,ReportFiles:E,QuotationInfo:Y,AccountingInfo:U},props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{editVisible:!1,quotationFilesVisible:!1,photoFilesVisible:!1,reportFilesVisible:!1,progress:[]}},created:function(){this.progress={1:"BM承認待ち",2:"BM承認",3:"BM差戻し",4:"BM却下",5:"BM保留",6:"本部受付前",7:"本部差戻し",8:"本部見送り",9:"依頼確定",10:"依頼済",11:"見積待ち",12:"見積精査中",13:"入荷待ち",14:"DM承認待ち",15:"稟議中",16:"見積発注済み",17:"日程調整中",18:"訪問待ち",19:"報告待ち",20:"店完了",21:"取完了",22:"問合せ中"}},mounted:function(){document.querySelectorAll(".slide-dialog").forEach((function(t){t.closest(".el-dialog__wrapper").classList.add("slide-dialog-wrapper")}))},methods:{formatterProgress:function(t,e){var a;return null!==(a=this.progress[t.progress_id])&&void 0!==a?a:""}}},Z=Object(u.a)(G,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"padding-bottom":"10px"}},[this.detail?e("quotation-info",{attrs:{detail:this.detail}}):this._e(),this._v(" "),this.detail?e("accounting-info",{attrs:{detail:this.detail}}):this._e()],1)}),[],!1,null,null,null).exports,K=a("WQG+"),tt=new o.a,et={components:{Pagination:K.a},props:{shopId:{type:Number,default:0}},data:function(){return{list:null,total:0,loading:!0,query:{page:1,limit:8,shop_id:this.shopId}}},created:function(){this.getList()},methods:{getList:function(){var t=this;return s()(i.a.mark((function e(){var a,n,l,s,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,n=a.limit,l=a.page,t.loading=!0,e.next=4,tt.storeHistory(t.query);case 4:s=e.sent,r=s.data,o=s.meta,t.list=r,t.list.forEach((function(t,e){t.index=(l-1)*n+e+1})),t.total=o.total,t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()}}},at=(a("Ygvt"),Object(u.a)(et,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("店舗過去履歴")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"緊/重"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.is_emergency?"緊急":""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",prop:"maintenance_code",label:"メンテナンスNo"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"ステータス"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.progress.status))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",prop:"created_at",label:"依頼日"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"完了日"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"取引先名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"依頼内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.order.substr(0,10)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"会計年月"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"請求金額（税抜）"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""))])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.query.page,limit:t.query.limit,layout:"total, prev, pager, next, jumper"},on:{"update:page":function(e){return t.$set(t.query,"page",e)},"update:limit":function(e){return t.$set(t.query,"limit",e)},pagination:t.getList}})],1)],1)}),[],!1,null,"6c3ccf70",null).exports),nt=new o.a,it={components:{Pagination:K.a},props:{subCategoryId:{type:Number,default:0}},data:function(){return{list:null,total:0,loading:!0,query:{page:1,limit:8,sub_category_id:this.subCategoryId}}},created:function(){this.getList()},methods:{getList:function(){var t=this;return s()(i.a.mark((function e(){var a,n,l,s,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,n=a.limit,l=a.page,t.loading=!0,e.next=4,nt.classHistory(t.query);case 4:s=e.sent,r=s.data,o=s.meta,t.list=r,t.list.forEach((function(t,e){t.index=(l-1)*n+e+1})),t.total=o.total,t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()}}},lt=(a("6PPh"),{components:{StoreHistory:at,ClassHistory:Object(u.a)(it,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("同一中分類過去履歴")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"show-header":!0,border:""}},[a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"緊/重"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.is_emergency?"緊急":""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",prop:"maintenance_code",label:"メンテナンスNo"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"ステータス"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.progress.status))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",prop:"created_at",label:"依頼日"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"完了日"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"取引先名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"依頼内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.order.substr(0,10)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"会計年月"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","class-name":"history-td",label:"請求金額（税抜）"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""))])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.query.page,limit:t.query.limit,layout:"total, prev, pager, next, jumper"},on:{"update:page":function(e){return t.$set(t.query,"page",e)},"update:limit":function(e){return t.$set(t.query,"limit",e)},pagination:t.getList}})],1)],1)}),[],!1,null,"179eeac4",null).exports},props:{subCategoryId:{type:Number,default:0},shopId:{type:Number,default:0}},data:function(){return{view1:!0,btnText:"店舗過去履歴"}},mounted:function(){document.querySelectorAll(".bottom-dialog").forEach((function(t){t.closest(".el-dialog__wrapper").classList.add("bottom-dialog-wrapper")}))},methods:{toggle:function(){this.view1=!this.view1,this.view1?this.btnText="店舗過去履歴":this.btnText="同一中分類過去履歴"}}}),st=Object(u.a)(lt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"padding-bottom":"10px","margin-top":"-58px"}},[a("el-button",{staticStyle:{position:"absolute",left:"200px",top:"10px"},attrs:{type:"primary",size:"small"},domProps:{textContent:t._s(t.btnText)},on:{click:function(e){return t.toggle()}}}),t._v(" "),t.view1?a("class-history",{attrs:{"sub-category-id":t.subCategoryId}}):a("store-history",{attrs:{"shop-id":t.shopId}})],1)}),[],!1,null,null,null).exports,rt=new r.a("maintenance"),ot={components:{RequestInfo:O,HistoryInfo:A,QaDialog:Z,BottomDialog:st},data:function(){return{qaVisible:!1,bottomVisible:!1,detail:null}},created:function(){this.getDetail()},methods:{getDetail:function(){var t=this;return s()(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$route.params&&t.$route.params.id,e.next=3,rt.get(a);case 3:if(t.detail=e.sent,t.detail.maintenance_matters.length<10)for(n=t.detail.maintenance_matters.length;n<10;n++)t.detail.maintenance_matters.push({maintenance_matter_id:null,matter_option_id:null,matter_value_id:null});case 5:case"end":return e.stop()}}),e)})))()}}},ct=(a("JcW9"),Object(u.a)(ot,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{position:"fixed",top:"10px",left:"300px","z-index":"10"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.bottomVisible=!0}}},[a("svg-icon",{attrs:{"icon-class":"upload"}}),t._v("  同一中分類過去履歴")],1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.qaVisible=!0}}},[a("svg-icon",{staticStyle:{transform:"rotate(270deg)"},attrs:{"icon-class":"upload"}}),t._v("  見積 / 会計 情報")],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[t.detail?a("request-info",{attrs:{detail:t.detail},on:{"get-detail":function(e){return t.getDetail()}}}):t._e()],1),t._v(" "),a("el-col",{attrs:{span:12}},[t.detail?a("history-info",{attrs:{detail:t.detail}}):t._e()],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"",visible:t.qaVisible,width:"900px","custom-class":"slide-dialog",top:"0px"},on:{"update:visible":function(e){t.qaVisible=e}}},[t.detail?a("qa-dialog",{attrs:{detail:t.detail}}):t._e()],1),t._v(" "),t.detail?a("el-dialog",{attrs:{title:"",visible:t.bottomVisible,width:"100%","custom-class":"bottom-dialog",top:"0px"},on:{"update:visible":function(e){t.bottomVisible=e}}},[a("bottom-dialog",{attrs:{"shop-id":t.detail.shop_id,"sub-category-id":t.detail.sub_category_id}})],1):t._e()],1)}),[],!1,null,"1b0cacc7",null));e.default=ct.exports},"WQG+":function(t,e,a){"use strict";Math.easeInOutQuad=function(t,e,a,n){return(t/=n/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e};var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function i(t,e,a){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,l=t-i,s=0;e=void 0===e?500:e;!function t(){s+=20;var r,o=Math.easeInOutQuad(s,i,l,e);r=o,document.documentElement.scrollTop=r,document.body.parentNode.scrollTop=r,document.body.scrollTop=r,s<e?n(t):a&&"function"==typeof a&&a()}()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,15,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&i(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&i(0,800)}}},s=(a("YWpn"),a("KHd+")),r=Object(s.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)}),[],!1,null,"38c2799a",null);e.a=r.exports},YWpn:function(t,e,a){"use strict";var n=a("gh2n");a.n(n).a},Ygvt:function(t,e,a){"use strict";var n=a("g5M0");a.n(n).a},erOF:function(t,e,a){var n=a("CHzS");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)},exz0:function(t,e,a){(e=a("JPst")(!1)).push([t.i,"\n.pagination-container[data-v-6c3ccf70] {\n  background: #fff;\n  padding: 1px 16px !important;\n  margin-top: 10px !important;\n}\n.pagination-container.hidden[data-v-6c3ccf70] {\n  display: none;\n}\n",""]),t.exports=e},g5M0:function(t,e,a){var n=a("exz0");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)},gh2n:function(t,e,a){var n=a("ICJW");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)},"yDO+":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("lwsE"),i=a.n(n),l=a("W8MJ"),s=a.n(l),r=a("GoZP"),o=function(){function t(e){i()(this,t),this.uri=e,this.baseUrl="/api/v2/"}return s()(t,[{key:"list",value:function(t){return Object(r.a)({url:this.baseUrl+this.uri,method:"get",params:t})}},{key:"get",value:function(t){return Object(r.a)({url:this.baseUrl+this.uri+"/"+t,method:"get"})}},{key:"store",value:function(t){return Object(r.a)({url:this.baseUrl+this.uri,method:"post",data:t})}},{key:"update",value:function(t,e){return Object(r.a)({url:this.baseUrl+this.uri+"/"+t,method:"put",data:e})}},{key:"destroy",value:function(t){return Object(r.a)({url:this.baseUrl+this.uri+"/"+t,method:"delete"})}}]),t}()},zC9o:function(t,e,a){"use strict";a.d(e,"a",(function(){return v}));var n=a("lwsE"),i=a.n(n),l=a("W8MJ"),s=a.n(l),r=a("7W2i"),o=a.n(r),c=a("a1gu"),u=a.n(c),d=a("Nsbk"),_=a.n(d),m=a("GoZP");function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=_()(t);if(e){var i=_()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var v=function(t){o()(a,t);var e=p(a);function a(){return i()(this,a),e.call(this,"maintenance")}return s()(a,[{key:"classHistory",value:function(t){return Object(m.a)({url:this.baseUrl+this.uri+"/class_history",method:"get",params:t})}},{key:"storeHistory",value:function(t){return Object(m.a)({url:this.baseUrl+this.uri+"/shop_history",method:"get",params:t})}},{key:"createProgress",value:function(t,e){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/progress/create",method:"post",data:e})}},{key:"createQuotation",value:function(t,e){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/quotation/create",method:"post",data:e})}},{key:"createAccounting",value:function(t,e){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/accounting/create",method:"post",data:e})}},{key:"update",value:function(t,e){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/put/update",method:"post",data:e})}},{key:"customsearch",value:function(t){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/customsearch",method:"get"})}},{key:"getPhotoFiles",value:function(t){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/photo_files",method:"get"})}},{key:"getReportFiles",value:function(t){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/report_files",method:"get"})}},{key:"getImage",value:function(t,e){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/getImage",method:"post",data:e})}},{key:"getQuotationFiles",value:function(t){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/quotation_files",method:"get"})}},{key:"selectreason",value:function(t,e){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/selectreason",method:"post",data:e})}},{key:"update_customerid",value:function(t,e){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/update_customerid",method:"post",data:e})}},{key:"big_middleconnect",value:function(t){return Object(m.a)({url:this.baseUrl+this.uri+"/"+t+"/big_middleconnect",method:"get"})}}]),a}(a("yDO+").a)}}]);